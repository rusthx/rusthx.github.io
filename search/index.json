[{"content":"更新软件包 1 sudo apt-get update 下载MySQL 1 sudo apt-get install mysql-server 登入MySQL MySQL安装完成后会有默认用户和密码，通过默认的用户和密码登入MySQL后可以新建用户并对该用户赋权\n查看默认用户和密码的命令 1 sudo cat /etc/mysql/debian.cnf 使用默认用户和密码登入数据库 mysql -u用户名 -p 输入密码 用户名和密码分别为上图中的user 和password\n1 mysql -udebian-sys-maint -p 新建用户 设置密码 赋权 设置root用户的密码（我的密码设置为123456，根据自己的需求修改命令） 1 2 3 4 use mysql; update user set authentication_string=\u0026#39;\u0026#39; where user=\u0026#39;root\u0026#39;; alter user \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; identified with mysql_native_password by \u0026#39;123456\u0026#39;; quit; 使用root用户登入数据库，并新建用户和赋权 下图为查询用户密码（加密过的）的命令 下列命令的意思是： 创建用户rust 并设置rust用户可以访问的位置为%（本地访问和远程访问，仅本地访问为localhost） 复制所有数据库的所有权限给rust用户 刷新权限\n1 2 3 CREATE USER \u0026#39;rust\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED WITH mysql_native_password BY \u0026#39;123456\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;rust\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION; flush privileges; 设置MySQL数据库允许远程访问 默认情况下，MySQL服务器只允许本地连接。\n编辑MySQL配置文件（/etc/mysql/mysql.conf.d/mysqld.cnf）并注释掉以下行（在 bind-address 行前面添加#）： 1 sudo gedit /etc/mysql/mysql.conf.d/mysqld.cnf 保存文件并重启MySQL服务器 1 sudo systemctl restart mysql MySQL执行顺序 参考资料：https://blog.csdn.net/Elsa15/article/details/108544943\n1 2 3 4 5 6 7 8 9 (9) SELECT (10)DISTINCT column,(6) AGG_FUNC(column or expression),... (1）FROM left_table (3）J0IN right_table (2） ON tablename.column = other_tablename.column (4）WHERE constraint_expression(5)GROUP BY column (7)WITH CUBE | ROLLUP (8)HAVING constraint_expression(11)ORDER BY column ASCIDEsc (12)LIMIT count OFFSET count; ","date":"2024-09-04T23:18:48+08:00","permalink":"https://rusthx.github.io/p/ubuntu22.04%E5%AE%89%E8%A3%85mysql8.0.35/","title":"Ubuntu22.04安装MySQL8.0.35"},{"content":"可视化界面的操作简单易上手，主要是基于Gparted,非常适合新手。但是可视化界面的操作也有无法解决的问题，比如因为某些操作（例如编译系统或者下载大小未知的文件）可能会导致系统磁盘空间被占满从而无法下载GParted甚至无法正常开机的状况，这种时候就要使用命令行的扩容方案。\n1.可视化界面操作方案 VMware给虚拟机扩展空间（不是虚拟机可以直接跳过此步骤） 在虚拟机设置里的磁盘选项点击扩展，选择要扩展到的磁盘大小，我的虚拟机本来就有80G,所以这里就只扩展5G作为演示。 扩容完成后还需要在虚拟机里分区和扩展文件系统。 查看系统占用情况 可视化界面可以在左侧点击文件管理后，点击其他位置，正上方的计算机那里可以看到计算机的使用情况 终端界面，可以输入df -h或者sudo fdisk -l查看系统占用情况 下载分区管理软件GParted 在终端中输入下面的命令下载GParted\n1 sudo apt-get install gparted 对磁盘进行分区 点击左下角的九个点（显示应用程序），找到GParted。因为涉及磁盘数据，所以需要root权限，在弹出界面输入root用户密码即可。 打开软件可以看到目前虚拟机的磁盘情况，灰色的是刚刚在VMware给虚拟机扩容的5G,还没有分配，需要手动分配。 可以看到，/dev/sda3是被挂载到了根目录下面，我们扩容也是要对根目录扩容。右键/dev/sda3，点击调整大小/移动选项，直接滑动条拉到底或者编辑新大小调整空间。然后点击调整大小。 然后左下角会显示一项操作待处理，点击绿色的√后点击应用操作 此时计算机的空间就成功扩容5G 出现无法调整只读文件系统的大小(cannot resize read-only file system)的解决办法 右键/dev/sda3，点击信息，查看挂载点，重新挂载文件夹目录的读写权限。这里系统挂载了几个目录就要重新挂载几个目录的文件读写权限。 这里因为演示的这台机是一台新机，还没有用过火狐浏览器什么的，所以只挂载了根目录。我用另外一台机进行演示 打开终端，重新挂载这几个目录的读写权限\n1 2 sudo mount -o remount -rw / sudo mount -o remount -rw /var/snap/firefox/common/host-hunspell 重新打开GParted或者点击左上角的刷新设备，再次对磁盘进行分区（参照上述教程）\n2.命令行操作方案 参考资料：https://blog.csdn.net/ynstxx/article/details/129068856\n硬盘占满无法开机 如果磁盘空间还能支持开机，就开机后使用终端； 如果磁盘已经满了不能正常开机（开机时卡在/dev/sda* clean），使用CTRL+ALT+F2进入终端界面，输入用户名和密码进入系统。 下面就可以按照正常的命令行操作步骤进行操作（按照此方法打开的终端会有文本显示错误的问题，如上图中的棱形，这是中文显示错误，不影响实际操作，为了演示美观，我就不用这个演示了）\n查看系统占用情况 扩展虚拟机空间和查看系统占用情况可参照上述教程 输入命令 sudo fdisk -l 用parted -l命令解决爆红部分的分区表问题 使用parted命令将/dev/sda3扩容 1 2 3 4 5 6 7 8 9 10 11 12 13 sudo parted /dev/sda unit s（设置Size单位） p free（查看磁盘详情） resizepart 3（对第3个盘进行扩容） Yes（分区正在使用中，确认是否继续） 188743646s（需要将磁盘扩容到的大小值，此处参考自己的空间） q（退出磁盘分区模式） 使用sudo resize2fs /dev/sda3命令更新磁盘3的容量 1 sudo resize2fs /dev/sda3 再次通过df -h或者sudo fdisk -l命令查看磁盘情况 1 2 df -h sudo fdisk -l 扩容完成，如果是硬盘占满通过CTRL+ALT+F2打开的终端，此时输入命令reboot重启电脑即可正常启动\n","date":"2024-09-04T23:10:48+08:00","permalink":"https://rusthx.github.io/p/ubuntu22.04%E6%89%A9%E5%B1%95%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4/","title":"Ubuntu22.04扩展虚拟机的磁盘空间"},{"content":"安装虚拟机 下载vmvare https://www.vmware.com/products/desktop-hypervisor.html 现在的vmvare安装变得麻烦起来了，还要登陆网站。这里我用的是我之前下载的vmvare16pro。如果官网下载不太容易也可以直接搜索vmvare16安装，浏览器上应该还有留存的资源。\n下载Ubuntu24.04 https://cn.ubuntu.com/download/desktop Ubuntu的镜像文件大了很多，Ubuntu22.04只有3G左右，Ubuntu24.04就已经5G了。自行选择吧，两种都可以。 安装虚拟机 这次设置多少其实都可以，但是建议不要给的太少。尤其是磁盘空间，调整起来有点麻烦。官网给了最少资源。个人建议初始安装内存给4G，磁盘给40G。 这里安装扩展集合也可以，会比默认集合多装一些办公应用、视频播放器之类的东西。 谨慎设置用户名，电脑主机名修改比较容易，但是用户名修改比较困难。密码的话随意设置一个就可以。反正虚拟机是学习使用，太复杂的还是防自己罢了。 这个安装过程可能会很慢，应该会花几分钟。 重启后会提示按enter键。\nUbuntu配置 配置网络 刚安装的虚拟机里没有网，需要手动设置网络。设置网络有两种，一种是修改配置文件，一种是可视化界面（GUI）修改。我个人倾向GUI修改。 配置文件修改的方案参考https://blog.csdn.net/zyw2002/article/details/123486055 的2.2小节 可视化界面修改网络配置信息步骤如下： 点击左上角的编辑，虚拟网络编辑器，VMnet8。记住子网IP。比如我的是192.168.146.0 我的VMnet8子网ip为192.168.146.0。所以这里ip地址我填入了192.168.146.xxx（这里xxx可以填入小于255的数，但是建议不要填10以内的数）。子网掩码填入255.255.255.0即可。网关和DNS参照我的填入即可。 应用配置后重启一下连接就可以正常连接网络。右上角的网络标记变成图中的标志时就表示联网正常。没有可视化界面的可以ping一下外网查看情况。ping baidu.com。按CTRL+C即可终止命令。 安装vmtools 安装vmtools后可以解决屏幕显示比例的问题，可以在虚拟机外复制然后粘贴到虚拟机里，这很重要！ 右键，在终端中打开。安装命令如下\n1 2 3 4 sudo apt update sudo apt install open-vm-tools -y sudo apt install open-vm-tools-desktop -y sudo reboot 配置用户免密 在使用sudo命令时普通用户需要输入密码。每次都需要输入密码很麻烦，设置免密后使用sudo就不需要再输入密码。\n1 2 3 sudo passwd root #给root用户设置一个密码 sudo apt install gedit # gedit是一个文本编辑器，可以让ubuntu上编辑文件像Windows的记事本 sudo apt install vim #vim 是一个纯终端的文本编辑器 1 2 3 4 5 sudo chmod 777 /etc/sudoers # /etc/sudoers是一个只读文件，需要修改权限 su root gedit /etc/sudoers #在文件中添加如下标注部分 chmod 440 /etc/sudoers #将文件权限修改回来，解决报错/etc/sudoers可被任何人写 exit; 安装SSH 1 2 3 sudo apt-get install openssh-server sudo gedit /etc/ssh/sshd_config reboot #重启生效设置 尝试ssh远程登陆 设置主机映射 修改Windows的C:\\Windows\\System32\\drivers\\etc下的hosts文件。这里修改可能会有权限问题，可以复制hosts文件，粘贴到能修改的地方，比如桌面。修改完成后删除C:\\Windows\\System32\\drivers\\etc下的hosts，将修改后的hosts文件粘贴进来。 打开Windows的命令终端，输入命令\n1 ssh rust@bird # rust为ubuntu的用户名，bird为刚才设置的主机映射名 安装Java Ubuntu安装java可以手动安装，也可以命令行安装。手动安装需要设置环境变量，建议使用命令行安装。命令行安装卸载比较方便。\n1 2 sudo apt-get install openjdk-8-jdk java -version #查看安装是否成功 ","date":"2024-09-03T23:14:48+08:00","permalink":"https://rusthx.github.io/p/vmvare%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEubuntu%E8%99%9A%E6%8B%9F%E6%9C%BA/","title":"VMvare安装配置Ubuntu虚拟机"}]